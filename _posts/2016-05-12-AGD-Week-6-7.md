---
layout: post
title:  "Albackpaca: Menu, Sound & Misc"
date:   2016-12-05 21:16:15 +0000
categories: agd albackpaca gamedev
tag:
- agd
- albackpaca
- gamedev
feature: /assets/img/intro-post/octojekyll.png
---

As assets began to make their way into the engine and become ready for use in the game, work on the initial core mechanics gradually came to a close. At this point I began working on the miscellaneous subtle tasks that would be required for the release-ready build of the game - namely sound, a menu with a variety of obvious graphical and audio options and a pause menu with scene travesal and quit functionality. I also continued my work on creating a variety of modular scripts that would serve as modifiers for existing assets to enhance the depth of gameplay.

My initial work on the main menu used a combination of the early first level scene assets as a backdrop, while using Unity's tmeplate assets for the actual UI whilst waiting for art assets. I also created simplistic animated transitions for the menu panels & buttons to add clear visual feedback on selected and pressed buttons. Once the main menu assets were in place, I used coroutines to fade in/out a variety of elements and create the splash screen intro

![Splash Intro]({{ site.url }}/assets/img/week-6-7/splashintro.gif "Main Menu Intro")

Options and settings in the main menu are serialised and saved to a single JSON string to reduce the complexity of both extending the system and storing the settings -


{% highlight csharp %}
//Serialisable class simplified for blog post!
[System.Serializable]
public class SettingsJson
{
    #region Graphics
    public bool m_fullscreen;
    public int m_graphicsQual;
    public int m_resolutionWidth;
    public int m_resolutionHeight;
    #endregion
    #region Audio
    public float m_masterVol, m_sfxVol, m_musicVol;
    #endregion
    #region Gameplay
    #endregion
}

//Functions to save and load
bool LoadOptions()
{
	string jsonData = PlayerPrefs.GetString("SavedSettings");

	if (jsonData == "")
		return false;
	else
	{
		SettingsJson convertedData = JsonUtility.FromJson<SettingsJson>(jsonData);
		m_currentSettings = convertedData;
		ApplyOptions();
		return true;
	}
}

void SaveOptions()
{
	if (m_currentSettings != null)
	{
		string convertedData = JsonUtility.ToJson(m_currentSettings);
		PlayerPrefs.SetString("SavedSettings", convertedData);
	}
}
{% endhighlight %} 

![Options Screen]({{ site.url }}/assets/img/week-6-7/options.jpg "Options")

talk about the menu w/ screenshots if there are any old ones, pause menu too

talk about implementing all the sound fx and music in the game, along with the audio mixer group alterable from the options

kill box and force volume for slides, along with animation variables

better desing of the character movement due to the frequently changing mechanics and as a way to mitiagte loss of work due to this drawback in the team


